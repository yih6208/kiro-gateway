# Kiro OpenAI Gateway - Environment Configuration
# Copy this file to .env and fill in your values

# ===========================================
# REQUIRED
# ===========================================

# Password to protect YOUR proxy server
# This is NOT a token from anywhere - YOU make it up!
# Use this same value as api_key when connecting to your gateway
# Example: "my-super-secret-password-123" or any secure string
PROXY_API_KEY="my-super-secret-password-123"

# ===========================================
# FIRST WAY: JSON credentials file
# ===========================================

# Path to JSON credentials file (alternative to REFRESH_TOKEN)
KIRO_CREDS_FILE="~/.aws/sso/cache/kiro-auth-token.json"

# ===========================================
# SECOND WAY: Kiro refresh token
# ===========================================

# Your Kiro refresh token obtained from Kiro IDE traffic.
# (Alternative to KIRO_CREDS_FILE)
# REFRESH_TOKEN="your_kiro_refresh_token_here"

# ===========================================
# OPTIONAL
# ===========================================

# AWS CodeWhisperer profile ARN (usually auto-detected)
# PROFILE_ARN="arn:aws:codewhisperer:us-east-1:..."

# AWS region (default: us-east-1)
# KIRO_REGION="us-east-1"

# ===========================================
# LOGGING
# ===========================================

# Log level: TRACE, DEBUG, INFO, WARNING, ERROR, CRITICAL
# Default: INFO (recommended for production)
# Set to DEBUG for detailed troubleshooting
# LOG_LEVEL="INFO"

# ===========================================
# FIRST TOKEN TIMEOUT (Streaming Retry)
# ===========================================

# Timeout for waiting for the first token from the model (in seconds).
# If the model doesn't respond within this time, the request will be cancelled and retried.
# This helps handle "stuck" requests when the model takes too long to start responding.
# Default: 30 seconds (recommended for production)
# Set a lower value (e.g., 5-10) for more aggressive retry behavior.
# FIRST_TOKEN_TIMEOUT="15"

# Maximum number of retry attempts when first token timeout occurs.
# After exhausting all attempts, a 504 Gateway Timeout error will be returned.
# Default: 3 attempts
# FIRST_TOKEN_MAX_RETRIES="3"

# ===========================================
# DEBUG (for development only)
# ===========================================

# Enable debug logging of requests/responses to files
# DEBUG_LAST_REQUEST=true

# Directory for debug log files
# DEBUG_DIR="debug_logs"
